<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/header :: header}"></head>
<body class="bg-gray-100">
<nav th:replace="~{fragments/header :: navigator}"></nav>
<div class="container mx-auto p-4">
    <h1 class="text-3xl font-bold mb-6">장바구니</h1>

    <div th:if="${cart != null and not #lists.isEmpty(cart.items)}" class="bg-white rounded-lg shadow-md p-6">
        <table class="w-full text-left">
            <thead>
            <tr class="border-b">
                <th class="p-2">상품명</th>
                <th class="p-2">옵션</th>
                <th class="p-2">단가</th>
                <th class="p-2">수량</th>
                <th class="p-2 text-right">합계</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="item : ${cart.items}" class="border-b">
                <td class="p-2" th:text="${item.productName}">상품 이름</td>
                <td class="p-2" th:text="${item.optionName}">옵션 이름</td>
                <td class="p-2" th:text="${#numbers.formatDecimal(item.price, 0, 'COMMA', 0, 'POINT')} + '원'"></td>
                <td class="p-2" th:text="${item.quantity}"></td>
                <td class="p-2 text-right" th:text="${#numbers.formatDecimal(item.calculatePrice(), 0, 'COMMA', 0, 'POINT')} + '원'"></td>
            </tr>
            </tbody>
        </table>
        <div class="text-right mt-6">
            <p class="text-xl font-semibold">총 주문 금액: <span class="text-blue-600" th:text="${#numbers.formatDecimal(cart.calculateTotalPrice(), 0, 'COMMA', 0, 'POINT')} + '원'"></span></p>
            <a href="/orders/checkout" class="mt-4 inline-block bg-blue-500 text-white py-2 px-6 rounded-md hover:bg-blue-600">주문하기</a>
        </div>
    </div>

    <div th:if="${cart == null or #lists.isEmpty(cart.items)}" class="text-center text-gray-500 py-10 bg-white rounded-lg shadow-md">
        <p>장바구니가 비어있습니다.</p>
    </div>
</div>
<footer th:replace="~{fragments/footer :: footer}"></footer>
</body>
</html>
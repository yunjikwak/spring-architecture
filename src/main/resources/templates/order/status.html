<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/header :: header}"></head>
<body class="bg-gray-100">
<nav th:replace="~{fragments/header :: navigator}"></nav>
<div class="container mx-auto p-4">
    <h1 class="text-3xl font-bold mb-6">주문 상세 정보</h1>
    <div class="bg-white rounded-lg shadow-md p-6">
        <div class="border-b pb-4 mb-4">
            <p><strong>주문번호:</strong> <span th:text="${order.id}"></span></p>
            <p><strong>주문일자:</strong> <span th:text="${#temporals.format(order.orderDate, 'yyyy-MM-dd HH:mm')}"></span></p>
            <p><strong>주문상태:</strong> <span class="font-semibold text-blue-600" th:text="${order.status.description}"></span></p>
        </div>
        <div class="mb-6">
            <h2 class="text-xl font-semibold mb-2">배송지 정보</h2>
            <p><strong class="w-20 inline-block">받는 분:</strong> <span th:text="${order.shippingInfo.recipient}"></span></p>
            <p><strong class="w-20 inline-block">연락처:</strong> <span th:text="${order.shippingInfo.phone}"></span></p>
            <p><strong class="w-20 inline-block">주소:</strong> <span th:text="${order.shippingInfo.address}"></span></p>
        </div>
        <div>
            <h2 class="text-xl font-semibold mb-2">주문 상품</h2>
            <ul class="divide-y">
                <li th:each="item : ${order.orderItems}" class="py-2 flex justify-between">
                    <span th:text="${item.productName} + ' (' + ${item.optionName} + ')'"></span>
                    <span><span th:text="${item.quantity}"></span>개</span>
                    <span class="font-semibold" th:text="${#numbers.formatDecimal(item.calculatePrice(), 0, 'COMMA', 0, 'POINT')} + '원'"></span>
                </li>
            </ul>
        </div>
        <div class="text-right mt-6 border-t pt-4">
            <p class="text-xl font-bold">총 결제 금액: <span class="text-blue-600" th:text="${#numbers.formatDecimal(order.discountedPrice, 0, 'COMMA', 0, 'POINT')} + '원'"></span></p>
        </div>
    </div>
</div>
<footer th:replace="~{fragments/footer :: footer}"></footer>
</body>
</html>